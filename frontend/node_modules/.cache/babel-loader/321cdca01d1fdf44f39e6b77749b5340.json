{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Asus\\\\FullStack_CL32\\\\project\\\\frontend\\\\src\\\\screens\\\\NewsFeed\\\\NewsFeed.js\";\nimport React, { useEffect, useState } from \"react\";\nimport { Container } from \"react-bootstrap\";\nimport axios from \"axios\";\nimport { Composer } from \"./Composer\";\nimport { Post } from \"./Post\";\n\nconst like = postId => axios.post(\"http://localhost:5000/post/${postId}/like\", {\n  headers: {\n    Authorization: \"Bearer\" + localStorage.getItem(\"jwt\")\n  }\n});\n\nexport const NewsFeed = () => {\n  const [posts, setPosts] = useState([]);\n  useEffect(() => {\n    axios.get(\"http://localhost:5000/post\", {\n      headers: {\n        Authorization: \"Bearer \" + localStorage.getItem(\"jwt\")\n      }\n    }).then(res => {\n      setPosts(res.data);\n    });\n  }, []);\n\n  const onLike = postId => {\n    axios.post(\"http://localhost:5000/post/${postId}/like\", null, {\n      headers: {\n        Authorization: \"Bearer\" + localStorage.getItem(\"jwt\")\n      }\n    }).then(res => {\n      setPosts(posts.map(item => {\n        if (item.id === res.data._id) {\n          return res.data;\n        }\n\n        return item;\n      }));\n    });\n  };\n\n  const onComment = (postId, content) => {\n    axios.post(\"http://localhost:5000/post/${postId}/comment\", {\n      content: content\n    }, {\n      headers: {\n        Authorization: \"Bearer\" + localStorage.getItem(\"jwt\")\n      }\n    }).then(res => {\n      setPosts(posts.map(item => {\n        if (item.id === res.data._id) {\n          return res.data;\n        }\n\n        return item;\n      }));\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(Container, {\n    className: \"mt-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Composer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"hr\", {\n    className: \"my-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }\n  }), posts.map(post => /*#__PURE__*/React.createElement(Post, {\n    key: post._id,\n    post: post,\n    onLikeClick: onLike,\n    onComment: onComment,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 9\n    }\n  })));\n};","map":{"version":3,"sources":["C:/Users/Asus/FullStack_CL32/project/frontend/src/screens/NewsFeed/NewsFeed.js"],"names":["React","useEffect","useState","Container","axios","Composer","Post","like","postId","post","headers","Authorization","localStorage","getItem","NewsFeed","posts","setPosts","get","then","res","data","onLike","map","item","id","_id","onComment","content"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { Container } from \"react-bootstrap\";\nimport axios from \"axios\";\n\nimport { Composer } from \"./Composer\";\nimport { Post } from \"./Post\";\n\nconst like = (postId) => axios.\n  post(\"http://localhost:5000/post/${postId}/like\", {\n    headers: {\n      Authorization: \"Bearer\" + localStorage.getItem(\"jwt\")\n    }\n  })\n\nexport const NewsFeed = () => {\n  const [posts, setPosts] = useState([]);\n\n  useEffect(() => {\n    axios\n      .get(\"http://localhost:5000/post\", {\n        headers: {\n          Authorization: \"Bearer \" + localStorage.getItem(\"jwt\"),\n        },\n      })\n      .then((res) => {\n        setPosts(res.data);\n      });\n  }, []);\n\n  const onLike = (postId) => {\n    axios.\n      post(\"http://localhost:5000/post/${postId}/like\", null, {\n        headers: {\n          Authorization: \"Bearer\" + localStorage.getItem(\"jwt\")\n        }\n      })\n      .then((res) => {\n        setPosts(posts.map(item => {\n          if (item.id === res.data._id) {\n            return res.data;\n          }\n          return item;\n        }));\n      });\n  };\n\n  const onComment = (postId, content) => {\n    axios.\n      post(\"http://localhost:5000/post/${postId}/comment\", \n      {\n        content: content,\n      }, {\n        headers: {\n          Authorization: \"Bearer\" + localStorage.getItem(\"jwt\")\n        }\n      })\n      .then((res) => {\n        setPosts(posts.map(item => {\n          if (item.id === res.data._id) {\n            return res.data;\n          }\n          return item;\n        }));\n      });\n  };\n\n  return (\n    <Container className=\"mt-5\">\n      <Composer />\n      <hr className=\"my-5\" />\n      {posts.map((post) => (\n        <Post key={post._id} post={post} onLikeClick={onLike} onComment={onComment} />\n      ))}\n    </Container>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}